{"ast":null,"code":"import React,{useState,useEffect}from\"react\";import axios from\"axios\";import{useNavigate}from\"react-router-dom\";// Import useNavigate\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function PaymentList(){const[payments,setPayments]=useState([]);const[searchTerm,setSearchTerm]=useState(\"\");const navigate=useNavigate();// Initialize useNavigate\nuseEffect(()=>{const fetchPayments=async()=>{try{const response=await axios.get(\"http://localhost:3000/payment/\");setPayments(response.data);}catch(error){console.error(\"Error:\",error.response.data.error);}};fetchPayments();},[]);const handleEdit=id=>{navigate(\"/payment/update/\".concat(id));// Navigate to edit page\n};const handleCreate=id=>{navigate(\"/payment/add\");// Navigate to edit page\n};const handleDelete=async id=>{try{await axios.delete(\"http://localhost:3000/payment/delete/\".concat(id));setPayments(payments.filter(payment=>payment.Id!==id));console.log(\"payment deleted successfully!\");alert(\"payment deleted successfully!\");}catch(error){console.error(\"Error:\",error.response.data.error);}};const handleSearch=e=>{setSearchTerm(e.target.value);};const filteredPayments=payments.filter(payment=>Object.values(payment).some(value=>typeof value===\"string\"&&value.toLowerCase().includes(searchTerm.toLowerCase())));return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Payment List\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Search...\",value:searchTerm,onChange:handleSearch}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleCreate(),children:\"Create a new payment\"}),/*#__PURE__*/_jsxs(\"table\",{children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"paymentID\"}),/*#__PURE__*/_jsx(\"th\",{children:\"paymentAmount\"}),/*#__PURE__*/_jsx(\"th\",{children:\"paymentDate\"}),/*#__PURE__*/_jsx(\"th\",{children:\"pDescription\"}),/*#__PURE__*/_jsx(\"th\",{children:\"pAddressl\"}),/*#__PURE__*/_jsx(\"th\",{children:\"pCountry\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:filteredPayments.map(payment=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:payment.Id}),/*#__PURE__*/_jsx(\"td\",{children:payment.paymentAmount}),/*#__PURE__*/_jsx(\"td\",{children:payment.paymentDate}),/*#__PURE__*/_jsx(\"td\",{children:payment.pDescription}),/*#__PURE__*/_jsx(\"td\",{children:payment.pAddressl}),/*#__PURE__*/_jsx(\"td\",{children:payment.pCountry}),/*#__PURE__*/_jsxs(\"td\",{children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleEdit(payment.Id),children:\"Edit\"}),\" \",\" | \",/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleDelete(payment.Id),children:\"Delete\"})]})]},payment.Id))})]})]});}export default PaymentList;","map":{"version":3,"names":["React","useState","useEffect","axios","useNavigate","jsx","_jsx","jsxs","_jsxs","PaymentList","payments","setPayments","searchTerm","setSearchTerm","navigate","fetchPayments","response","get","data","error","console","handleEdit","id","concat","handleCreate","handleDelete","delete","filter","payment","Id","log","alert","handleSearch","e","target","value","filteredPayments","Object","values","some","toLowerCase","includes","children","type","placeholder","onChange","onClick","map","paymentAmount","paymentDate","pDescription","pAddressl","pCountry"],"sources":["C:/Users/Karthik/Documents/GitHub/ComfyFitness/frontend/src/components/PaymentList.jsx"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport axios from \"axios\";\r\nimport { useNavigate } from \"react-router-dom\"; // Import useNavigate\r\n\r\nfunction PaymentList() {\r\n  const [payments, setPayments] = useState([]);\r\n  const [searchTerm, setSearchTerm] = useState(\"\");\r\n  const navigate = useNavigate(); // Initialize useNavigate\r\n\r\n  useEffect(() => {\r\n    const fetchPayments = async () => {\r\n      try {\r\n        const response = await axios.get(\r\n          \"http://localhost:3000/payment/\"\r\n        );\r\n        setPayments(response.data);\r\n      } catch (error) {\r\n        console.error(\"Error:\", error.response.data.error);\r\n      }\r\n    };\r\n    fetchPayments();\r\n  }, []);\r\n\r\n  const handleEdit = (id) => {\r\n    navigate(`/payment/update/${id}`); // Navigate to edit page\r\n  };\r\n\r\n  \r\n  const handleCreate = (id) => {\r\n    navigate(`/payment/add`); // Navigate to edit page\r\n  };\r\n\r\n  const handleDelete = async (id) => {\r\n    try {\r\n      await axios.delete(`http://localhost:3000/payment/delete/${id}`);\r\n      setPayments(payments.filter((payment) => payment.Id !== id));\r\n      console.log(\"payment deleted successfully!\");\r\n      alert(\"payment deleted successfully!\");\r\n    } catch (error) {\r\n      console.error(\"Error:\", error.response.data.error);\r\n    }\r\n  };\r\n\r\n  const handleSearch = (e) => {\r\n    setSearchTerm(e.target.value);\r\n  };\r\n  const filteredPayments = payments.filter((payment) =>\r\n    Object.values(payment).some(\r\n      (value) =>\r\n        typeof value === \"string\" &&\r\n        value.toLowerCase().includes(searchTerm.toLowerCase())\r\n    )\r\n  );\r\n\r\n  return (\r\n    <div>\r\n      <h2>Payment List</h2>\r\n      <input\r\n        type=\"text\"\r\n        placeholder=\"Search...\"\r\n        value={searchTerm}\r\n        onChange={handleSearch}\r\n      />\r\n      <button onClick={() => handleCreate()}>\r\n                  Create a new payment\r\n                </button>\r\n      <table>\r\n        <thead>\r\n          <tr>\r\n            <th>paymentID</th>\r\n            <th>paymentAmount</th>\r\n            <th>paymentDate</th>\r\n            <th>pDescription</th>\r\n            <th>pAddressl</th>\r\n            <th>pCountry</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          {filteredPayments.map((payment) => (\r\n            <tr key={payment.Id}>\r\n              <td>{payment.Id}</td>\r\n              <td>{payment.paymentAmount}</td>\r\n              <td>{payment.paymentDate}</td>\r\n              <td>{payment.pDescription}</td>\r\n              <td>{payment.pAddressl}</td>\r\n              <td>{payment.pCountry}</td>\r\n              <td>\r\n                <button onClick={() => handleEdit(payment.Id)}>Edit</button>{\" \"}\r\n                {\" | \"}\r\n                <button onClick={() => handleDelete(payment.Id)}>\r\n                  Delete\r\n                </button>\r\n              </td>\r\n            </tr>\r\n          ))}\r\n        </tbody>\r\n      </table>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default PaymentList;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}